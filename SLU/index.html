<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aframe-text-geometry-component@0.5.2/dist/aframe-text-geometry-component.min.js"></script>
    <title>Billiken-ARðŸš€</title>
  </head>
  <body>
    <a-scene
      mindar-image="imageTargetSrc: /tempBilli4.mind; showStats: false; uiScanning: yes;"
      color-space="sRGB"
      renderer="colorManagement: true, physicallyCorrectLights"
      vr-mode-ui="enabled: false"
      device-orientation-permission-ui="enabled: false"
    >
      <a-assets>
        <!-- Replace this with your own model -->
        <a-asset-item
          id="customModel"
          src="/black_leather_chair.gltf"
        ></a-asset-item>

        <img id="customTexture" src="/cenBilli2.png" />
        <img id="icon" src="/bill2.jpg" />
        <img id="icon-web" src="/web icon.png" />
        <img id="icon-x" src="x-icon.jpg" />
        <img id="icon-yt" src="yt-icon.png" />
        <img id="icon-tt" src="TT-icon.png" />
        <img id="icon-li" src="li-icon.png" />
        <img id="icon-fb" src="fb-icon.png" />
        <img id="icon-insta" src="insta-icon.png" />
        <audio id="bg-music" src="/Dreamers.mp3" preload="auto"></audio>
      </a-assets>

      <a-camera
        position="0 0 0"
        look-controls="enabled: false"
        cursor="fuse: false; rayOrigin: mouse;"
        raycaster="far: 10000; objects: .clickable"
      >
      </a-camera>

      <a-entity
        mindar-image-target="targetIndex: 0"
        interactive-cube-manager
        smooth="true"
        smoothCount="10"
        smoothTolerance="0.01"
        smoothThreshold="5"
      >
        <!-- <a-plane
          src="#card"
          position="0 0 0"
          height="0.552"
          width="1"
          rotation="0 0 0"
        ></a-plane> -->

        <!-- Custom model with animation -->
        <!-- <a-gltf-model
          id="model"
          src="#customModel"
          position="0 0 0.1"
          scale="0.3 0.3 0.3"
          rotation="90 0 0"
        ></a-gltf-model> -->

        <!-- Add 3D text -->
        <!-- <a-text
          value="Billiken Rocks!"
          position="0 0.5 0"
          rotation="0 0 0"
          align="center"
          color="blue"
          width="2"
          side="double"
        ></a-text> -->

        <a-entity
          id="speaker"
          sound="src: #bg-music; autoplay: false; volume: 1"
          position="0 2 5"
        ></a-entity>

        <a-entity raycaster="objects: .clickable" cursor></a-entity>

        <a-entity
          text-geometry="value: Higher Purpose. Greater good.; size: 0.16; height: 0.1; font: https://threejs.org/examples/fonts/optimer_bold.typeface.json"
          material="color: #003aa7"
          position="-0.455 -0.53 0"
          rotation="0 0 0"
          scale="0.3 0.3 0.3"
          smooth="true"
          smoothCount="10"
          smoothTolerance="0.01"
          smoothThreshold="5"
        ></a-entity>

        <a-entity
          text-geometry="value: Saint Louis University; size: 0.24; height: 0.1; font: https://threejs.org/examples/fonts/optimer_bold.typeface.json"
          material="color: #003aa7"
          position="-0.48 0.5 0"
          rotation="0 0 0"
          scale="0.3 0.3 0.3"
          smooth="true"
          smoothCount="10"
          smoothTolerance="0.01"
          smoothThreshold="5"
        ></a-entity>

        <!-- top -->
        <a-entity
          geometry="primitive: box; width: 1; height: 0.03; depth: 0.05"
          material="color: #003aa7"
          position="0 0.65 0"
          smooth="true"
          smoothCount="10"
          smoothTolerance="0.01"
          smoothThreshold="5"
        ></a-entity>

        <!-- bottom -->
        <a-entity
          geometry="primitive: box; width: 1; height: 0.03; depth: 0.05"
          material="color: #003aa7"
          position="0 -0.65 0"
          smooth="true"
          smoothCount="10"
          smoothTolerance="0.01"
          smoothThreshold="5"
        ></a-entity>

        <!-- left -->
        <a-entity
          geometry="primitive: box; width: 1.29; height: 0.03; depth: 0.05"
          material="color: #003aa7"
          position="-0.5 0 0"
          rotation="0 0 90"
          smooth="true"
          smoothCount="10"
          smoothTolerance="0.01"
          smoothThreshold="5"
        ></a-entity>

        <!-- right -->
        <a-entity
          geometry="primitive: box; width: 1.29; height: 0.03; depth: 0.05"
          material="color: #003aa7"
          position="0.5 0 0"
          rotation="0 0 90"
          smooth="true"
          smoothCount="10"
          smoothTolerance="0.01"
          smoothThreshold="5"
        ></a-entity>

        <a-sphere
          id="myInteractiveSphere"
          class="clickable"
          position="0 0 0"
          scale="0.15 0.15 0.05"
          material="src: #customTexture; repeat: 1 1; offset: 0 0"
          visible="false"
        >
        </a-sphere>
        <!-- LEFT side -->
        <a-entity
          id="option1"
          geometry="primitive: plane; width: 0.2; height: 0.1"
          material="color: #003aa7; opacity: 0.8"
          position="0 0 0"
          visible="false"
          animation__show="property: position; to: -0.3 0.2 0; dur: 600; easing: easeOutElastic; startEvents: show-option1"
          animation__hide="property: position; to: 0 0 0; dur: 600; easing: easeInOutQuad; startEvents: hide-option1"
        >
          <!-- Icon inside rectangle box -->
          <a-entity
            geometry="primitive: circle; radius: 0.04"
            material="src: #icon"
            position="0 0 0.01"
          ></a-entity>
        </a-entity>

        <a-entity
          id="option2"
          geometry="primitive: plane; width: 0.2; height: 0.1"
          material="color: #003aa7; opacity: 0.8"
          position="0 0 0"
          visible="false"
          animation__show="property: position; to: -0.3 0 0; dur: 600; easing: easeOutElastic; startEvents: show-option2"
          animation__hide="property: position; to: 0 0 0; dur: 600; easing: easeInOutQuad; startEvents: hide-option2"
        >
          <!-- Icon inside rectangle box -->
          <a-entity
            geometry="primitive: circle; radius: 0.04"
            material="src: #icon"
            position="0 0 0.01"
          ></a-entity>
        </a-entity>

        <a-entity
          id="option3"
          geometry="primitive: plane; width: 0.2; height: 0.1"
          material="color: #003aa7; opacity: 0.8"
          position="0 0 0"
          visible="false"
          animation__show="property: position; to: -0.3 -0.2 0; dur: 600; easing: easeOutElastic; startEvents: show-option3"
          animation__hide="property: position; to: 0 0 0; dur: 600; easing: easeInOutQuad; startEvents: hide-option3"
        >
          <!-- Icon inside rectangle box -->
          <a-entity
            geometry="primitive: circle; radius: 0.04"
            material="src: #icon"
            position="0 0 0.01"
          ></a-entity>
        </a-entity>

        <!-- RIGHT side -->
        <a-entity
          id="option4"
          geometry="primitive: plane; width: 0.2; height: 0.1"
          material="color: #003aa7; opacity: 0.8"
          position="0 0 0"
          visible="false"
          animation__show="property: position; to: 0.3 0.2 0; dur: 600; easing: easeOutElastic; startEvents: show-option4"
          animation__hide="property: position; to: 0 0 0; dur: 600; easing: easeInOutQuad; startEvents: hide-option4"
        >
          <!-- Icon inside rectangle box -->
          <a-entity
            geometry="primitive: circle; radius: 0.04"
            material="src: #icon"
            position="0 0 0.01"
          ></a-entity>
        </a-entity>

        <a-entity
          id="option5"
          geometry="primitive: plane; width: 0.2; height: 0.1"
          material="color: #003aa7; opacity: 0.8"
          position="0 0 0"
          visible="false"
          animation__show="property: position; to: 0.3 0 0; dur: 600; easing: easeOutElastic; startEvents: show-option5"
          animation__hide="property: position; to: 0 0 0; dur: 600; easing: easeInOutQuad; startEvents: hide-option5"
        >
          <!-- Icon inside rectangle box -->
          <a-entity
            geometry="primitive: circle; radius: 0.04"
            material="src: #icon"
            position="0 0 0.01"
          ></a-entity>
        </a-entity>

        <a-entity
          id="option6"
          geometry="primitive: plane; width: 0.2; height: 0.1"
          material="color: #003aa7; opacity: 0.8"
          position="0 0 0"
          visible="false"
          animation__show="property: position; to: 0.3 -0.2 0; dur: 600; easing: easeOutElastic; startEvents: show-option6"
          animation__hide="property: position; to: 0 0 0; dur: 600; easing: easeInOutQuad; startEvents: hide-option6"
        >
          <!-- Icon inside rectangle box -->
          <a-entity
            geometry="primitive: circle; radius: 0.04"
            material="src: #icon"
            position="0 0 0.01"
          ></a-entity>
        </a-entity>

        <a-image
          visible="false"
          id="web-button"
          class="clickable"
          src="#icon-web"
          position="-0.42 -0.4 0"
          height="0.10"
          width="0.10"
          animation="property: scale; to: 1.2 1.2 1.2; dur: 1000; easing: easeInOutQuad; loop: true; dir: alternate"
        ></a-image>

        <a-image
          visible="false"
          id="fb-button"
          class="clickable"
          src="#icon-fb"
          alpha-test="0.5"
          position="-0.14 -0.4 0"
          height="0.10"
          width="0.10"
          animation="property: scale; to: 1.2 1.2 1.2; dur: 1000; easing: easeInOutQuad; loop: true; dir: alternate"
        ></a-image>

        <a-image
          visible="false"
          id="insta-button"
          class="clickable"
          src="#icon-insta"
          position="0.14 -0.4 0"
          height="0.10"
          width="0.10"
          animation="property: scale; to: 1.2 1.2 1.2; dur: 1000; easing: easeInOutQuad; loop: true; dir: alternate"
        ></a-image>

        <a-image
          visible="false"
          id="li-button"
          class="clickable"
          src="#icon-li"
          position="0.42 -0.4 0"
          height="0.10"
          width="0.10"
          animation="property: scale; to: 1.2 1.2 1.2; dur: 1000; easing: easeInOutQuad; loop: true; dir: alternate"
        ></a-image>

        <!-- <a-text
          id="text"
          class="clickable"
          value=""
          color="black"
          align="center"
          width="2"
          position="0 -1 0"
          geometry="primitive:plane; height: 0.1; width: 2;"
          material="opacity: 0.5"
        ></a-text> -->
      </a-entity>
    </a-scene>

    <div id="app"></div>
    <script type="module" src="/src/main.js"></script>

    <script>
      const popupIds = [
        "option1",
        "option2",
        "option3",
        "option4",
        "option5",
        "option6",
      ];

      let isExpanded = false;

      document.addEventListener("DOMContentLoaded", () => {
        const trigger = document.querySelector("#myInteractiveSphere");

        trigger.addEventListener("click", () => {
          popupIds.forEach((id) => {
            const el = document.querySelector(`#${id}`);
            if (!isExpanded) {
              el.setAttribute("visible", true);
              el.emit(`show-${id}`);
            } else {
              el.emit(`hide-${id}`);
            }
          });

          isExpanded = !isExpanded;
        });

        // Handle hiding after animation ends
        popupIds.forEach((id) => {
          const el = document.querySelector(`#${id}`);
          el.addEventListener("animationcomplete__hide", () => {
            if (!isExpanded) {
              el.setAttribute("visible", false);
            }
          });
        });
      });
    </script>
  </body>
</html>
